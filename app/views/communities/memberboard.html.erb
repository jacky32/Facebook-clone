<% community = Community.find(@id) %>
      <%# accept member/invite user unless public %>
<div id="memberboard" data-controller="modal">

  <div id="member-requests">
    <div class="user-heading">Pending requests</div>
    <% community.pending_requests.includes(:member).each do |pending_request| %>
      <%= turbo_frame_tag dom_id(pending_request), class: "member-request" do %>
        <%= button_to membership_path(pending_request), method: :patch do %>
          <%= show_svg('icons/user-plus.svg') %>
        <% end %>
        <%= button_to membership_path(pending_request), method: :delete do %>
          <%= show_svg('icons/close.svg') %>
        <% end %>
        <%= link_to pending_request.member, class:"member-details", data: { turbo_frame: "main", action:"click->modal#hideModal" } do %>
          <%= image_tag pending_request.member.get_profile_picture %>
          <div><%= pending_request.member.name %></div>
        <% end %>
      <% end %>
    <% end %>
  </div>
  <% unless community.pending_requests.empty? %>
    <hr>
  <% end %>
        <%# remove member %>
  <div id="member-list">
    <div class="user-heading">Member list</div>
    <% community.confirmed_members.includes(:memberships).each do |member| %>
      <%= turbo_frame_tag dom_id(member), class: "member-request" do %>
        <div></div>
        <%= button_to membership_path(community.memberships.where(member_id: member.id).first), method: :delete do %>
          <%= show_svg('icons/user-remove.svg') %>
        <% end %>
        <%= link_to member, class:"member-details", data: { turbo_frame: "main", action:"click->modal#hideModal" } do %>
          <%= image_tag member.get_profile_picture %>
          <div><%= member.name %></div>
        <% end %>
      <% end %>
    <% end %>
  </div>
</div>